{"componentChunkName":"component---src-templates-page-js","path":"/postcards","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Internet Postcards","date":"Spring 2021","path":"/postcards","author":"Connie","excerpt":"A Chrome extension for sending real, physical postcards from your internet adventures.","tags":["Frontend","Chrome extension","Flask","AppEngine","Three.js","Canvas"],"coverImage":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIBAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHWGQuID//EABgQAQEBAQEAAAAAAAAAAAAAAAIAAQMS/9oACAEBAAEFAm/NnTFZIl4STZf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwFH/8QAHBABAAEEAwAAAAAAAAAAAAAAAQACEBEhIoGh/9oACAEBAAY/Aso9TXtsVAk40hb/xAAZEAEAAwEBAAAAAAAAAAAAAAABABEhQWH/2gAIAQEAAT8hTYni52BTXEWTcNXTDULdaIMn/9oADAMBAAIAAwAAABAnP//EABYRAQEBAAAAAAAAAAAAAAAAAAEQEf/aAAgBAwEBPxAdn//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/EIh//8QAGhABAAMBAQEAAAAAAAAAAAAAAQARUSFBkf/aAAgBAQABPxBjoYHZ8u4WlokbZrEVb7KBBQNl7FSpQZbsUXV7P//Z","aspectRatio":1.2987012987012987,"src":"/static/9285b52776b5fe789d246b311ac70401/14b42/pocards.jpg","srcSet":"/static/9285b52776b5fe789d246b311ac70401/f836f/pocards.jpg 200w,\n/static/9285b52776b5fe789d246b311ac70401/2244e/pocards.jpg 400w,\n/static/9285b52776b5fe789d246b311ac70401/14b42/pocards.jpg 800w,\n/static/9285b52776b5fe789d246b311ac70401/47498/pocards.jpg 1200w,\n/static/9285b52776b5fe789d246b311ac70401/f2e3f/pocards.jpg 1400w","sizes":"(max-width: 800px) 100vw, 800px"}}},"coverVideo":{"publicURL":"/static/8e86257f36eefe8d4dd098e6b75ef570/pocards.mp4"},"links":""},"id":"d6fd0d60-1692-5564-a2e8-f2dcc51f8710","html":"<p class=\"para\">Internet Postcards is a chrome extension that allows you to generate physical, mailable postcards from your internet adventures.</p>\n<blockquote>\n<p class=\"para\">‚ÄúWe live on the internet, so why not share your travels?‚Äù</p>\n</blockquote>\n<p class=\"para\">More specifically, this chrome extension takes a screenshot of the webpage that you are currently browsing, and opens an overlay in which you can postcard-ify the postcard with some decorative text, leave a message on the back and send the postcard result to a real physical address using an online direct mailing service.</p>\n<p class=\"para\">This project was inspired by my nostalgia for the physical artifacts that result from traveling. Although I love sending postcards home to my mom, I rarely travel away from the university campus and my room. This project is my solution to that predicament. If the only places that I visit are online, then why not send postcards from those locations instead?</p>\n<p class=\"para\">The service uses DirectMailers to send cards. The original intent was to use a STUDIO grant to provide postcards for free for a short period -- users who were selected to participate would enter an individual passcode to access 3 postcards each.</p>\n<p class=\"para\">This project is still somewhat incomplete -- Although the development is done, I never officially launched it because I wanted to make a homepage for the project before I did!</p>\n<h2>Technologies Used</h2>\n<ul>\n<li>Chrome extension API</li>\n<li><a href=\"https://print.directmailers.com/tour/\">Direct Mailers API</a></li>\n<li>Javascript Canvas</li>\n<li>Three.js</li>\n<li>Google Cloud Storage API</li>\n<li>AppEngine</li>\n<li>Flask</li>\n</ul>\n<h2>Most recent version</h2>\n<iframe src=\"https://player.vimeo.com/video/688333798?h=dd62c15dd6&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479\" width=\"1920\" height=\"1080\" frameborder=\"0\" allow=\"autoplay; fullscreen; picture-in-picture\" allowfullscreen title=\"Internet Postcards Extension Demo\"></iframe>\n<h2>Actual cards I recieved from Direct Mailers during development</h2>\n<p class=\"para\"><img src=\"../images/postcards/recieved.png\" alt=\"Actual cards I recieved from Direct Mailers during development\"></p>\n<h2>Older concept &#x26; video (from 2019)</h2>\n<iframe src=\"https://player.vimeo.com/video/335643450?h=289df540db&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479\" width=\"3840\" height=\"2160\" frameborder=\"0\" allow=\"autoplay; fullscreen; picture-in-picture\" allowfullscreen title=\"Internet Postcards\"></iframe>\n<h2>Early sketches (from 2019)</h2>\n<p class=\"para\"><img src=\"../images/postcards/postcard2.gif\" alt=\"a early low fidelty sketches of postcard interactions\">\n<img src=\"../images/postcards/postcard3.png\" alt=\"another early low fidelty sketch of postcard interactions with a grid of images on a global homepage\"></p>","excerpt":"Internet Postcards is a chrome extension that allows you to generate physical, mailable postcards from your internet adventures. ‚ÄúWe live on‚Ä¶"}},"pageContext":{"type":"posts","next":{"id":"622e37c5-2890-50b2-a080-f33c9f03de3f","children":[],"parent":"404329c0-75ec-51b6-8e97-ca3e99d77544","internal":{"content":"P5.js is a popular Javascript library for creative coding.\n\n\"The p5.js Editor is a website for creating p5.js sketches, with a focus on making coding accessible and inclusive for artists, designers, educators, beginners, and anyone else! You can create, share, or remix p5.js sketches without needing to download or configure anything. It is designed with beginners in mind, limiting features and frills. The editor is free and open-source because we believe software, and the tools to learn it, should be accessible to everyone.\" - Github README for p5.js editor\n\nAs a student apprentice to [Cassie Tarakajian](https://cassietarakajian.com/), I contributed to the p5.js editor by researching potential testing methods for the codebase, writing a few example tests, and then writing documentation to standardize the testing practices that we wanted to enforce. I joined during a turning point in the development where the codebase had grown to the point of needing tests so that future contributors of the open-source project could contribute with confidence. There had been some tests already but without any consistency in testing methods, naming, or enforcement.\n\nI researched different testing methods and philosophies, file structure setups, naming conventions, and more. After writing a few tests, I pivoted to putting together documentation that could serve as the guide for future contributors.\n\nI learned a lot during this project and had a blast learning about Javascript testing. This was my first time writing tests for a Javascript project, and there was so much more artistry in test-writing than I had originally anticipated. A resource I'm grateful for is [this Test Double Wiki](https://github.com/testdouble/contributing-tests/wiki/Tests%27-Influence-on-Design).\n\n# üåê [P5 Web Editor](https://editor.p5js.org/)\n\n# ‚å®Ô∏è [Github Repository](https://github.com/processing/p5.js-web-editor)\n\n# [The final guide I wrote lives here](https://github.com/processing/p5.js-web-editor/blob/develop/contributor_docs/testing.md)","type":"MarkdownRemark","contentDigest":"62264d333febc5bba61fe3c5660820bb","counter":181,"owner":"gatsby-transformer-remark"},"frontmatter":{"title":"P5 Web Editor Testing Suite","path":"/processing","date":"Spring 2021","coverImage":"../images/p5.jpg","coverVideo":"../assets/p5.mp4","excerpt":"I helped develop and standardize the testing suite for the p5.js web editor.","tags":["Frontend","React","Unit Testing"],"links":"","readMoreButton":"More information","order":3,"shortTitle":"P5 web editor"},"excerpt":"","rawMarkdownBody":"P5.js is a popular Javascript library for creative coding.\n\n\"The p5.js Editor is a website for creating p5.js sketches, with a focus on making coding accessible and inclusive for artists, designers, educators, beginners, and anyone else! You can create, share, or remix p5.js sketches without needing to download or configure anything. It is designed with beginners in mind, limiting features and frills. The editor is free and open-source because we believe software, and the tools to learn it, should be accessible to everyone.\" - Github README for p5.js editor\n\nAs a student apprentice to [Cassie Tarakajian](https://cassietarakajian.com/), I contributed to the p5.js editor by researching potential testing methods for the codebase, writing a few example tests, and then writing documentation to standardize the testing practices that we wanted to enforce. I joined during a turning point in the development where the codebase had grown to the point of needing tests so that future contributors of the open-source project could contribute with confidence. There had been some tests already but without any consistency in testing methods, naming, or enforcement.\n\nI researched different testing methods and philosophies, file structure setups, naming conventions, and more. After writing a few tests, I pivoted to putting together documentation that could serve as the guide for future contributors.\n\nI learned a lot during this project and had a blast learning about Javascript testing. This was my first time writing tests for a Javascript project, and there was so much more artistry in test-writing than I had originally anticipated. A resource I'm grateful for is [this Test Double Wiki](https://github.com/testdouble/contributing-tests/wiki/Tests%27-Influence-on-Design).\n\n# üåê [P5 Web Editor](https://editor.p5js.org/)\n\n# ‚å®Ô∏è [Github Repository](https://github.com/processing/p5.js-web-editor)\n\n# [The final guide I wrote lives here](https://github.com/processing/p5.js-web-editor/blob/develop/contributor_docs/testing.md)","fileAbsolutePath":"/Users/crabbage/Documents/newwebdev/src/posts/processing.md","__gatsby_resolved":{"frontmatter":{"path":"/processing"}}},"previous":{"id":"5720aede-bfed-5d8a-aa99-5a265b75d988","children":[],"parent":"d2320169-eadb-51d6-9d6e-1abb08860b09","internal":{"content":"\n**Working with NASA JPL, we developed an interactive tool that enables scientists to compare data from their PIXL tool.** This project was a collaboration between with Lukas Hermann, Nur Yildirim, and Shravya Bhat. \n\n# üåê [Live URL](https://cmu-ids-2020.github.io/fp-airbnb-rats/)\n\n# ‚å®Ô∏è [Github Repository](https://github.com/CMU-IDS-2020/fp-airbnb-rats)\n\n### Clustering server rate limitations\nWe are running the clustering backend on an AWS instance. Because it's a free trail of an instance, it will expire around Janurary 9th, 2021. The app will continue to work afterwards, but the clustering feature will not work unless you set up your own server. We are also using a free proxy server service (CORS-anywhere) to forward our CORS requests because otherwise we will get https client to http errors. **Due to the limits of free AWS and the free proxy server service, the rate and speed of responses may be limited if the app traffic is very high.**\n\nIn this case there are two possible solutions:\n1. Contact me and I can set up an alternative proxy server for you\n2. Clone our repository and set it up locally using the instructions in the README.\n\n![demo gif](../images/nasa/pixl.gif)\n\nDuring the project, I maintained and set up the components in our web app, which was built in React. I implemented the design of the interface, set up information coordination between components, and programmed the majority of the interactions in the interface, such as: \n- the lasso tool\n- adding and removing groups\n- the image viewer/overlay component with pan/zoom\n- group annotation and locking\n- element filtering and sorting\n- and more! \n\nI also worked with Lukas on the visualizations using d3.js. Lastly, I conceptualized and designed the core interactions, which I mocked up in Figma and validated with the key stakeholder, a NASA Co-Investigator, with a user study protocol that I created.\n\n# Abstract\n\nNASA JPL scientists working on the micro x-ray fluorescence (microXRF) spectroscopy data collected from Mars surface perform data analysis to look for signs of past microbial life on Mars. Their data analysis workflow mainly involves identifying mineral compounds through the element abundance in spatially distributed data points. Working with the NASA JPL team, we identified pain points and needs to further develop their existing data visualization and analysis tool. Specially, the team desired improvements for the process of creating and interpreting mineral composition groups. To address this problem, we developed an interactive tool that enables scientists to (1) semi-automatically cluster the data, and (2) compare the clusters and individual data points to make informed decisions about mineral compositions. Our tool supports a hybrid data analysis workflow where the user can manually refine the machine generated clusters. \n\n# Introduction\n\nOur project is carried out in collaboration with NASA Jet Propulsion Laboratory Human Interfaces Group in order to support the exploratory analysis of astrobiological data collected via Mars 2020 Perseverance rover. The mission of NASA scientists is to look for signs of past microbial life on Mars by examining the chemical makeup of rock and soil textures at a very fine scale. This is performed by analysing the micro x-ray fluorescence (microXRF) spectroscopy data collected by The Planetary Instrument for X-ray Lithochemistry (PIXL). By looking at the concentration and the spatial distribution of elements, the scientists are able to interpret the microXRF data and identify the mineral compounds that were likely created by microbes [2].\n\nThe PIXL instrument team performing this work include astrobiologists, sedimentologists, igneous petrologists, spectroscopists, and geochemists. An initial data visualisation tool prototype, Pixlise, is already in place to support scientists in this process [3]. Our preliminary discussions with the project team, therefore, focused on identifying the tasks and information needs of the scientists that might not be supported by the current app. In Pixlise, the data analysis tasks are mainly carried out using a map interface as the collected data involves spatially defined points with coordinates. The data analysis workflow has two major stages: (1) assigning elements to data points based on the spectroscopy data, (2) creating and interpreting mineral composition groups based on elemental abundance. Through a collaborative problem defining process, we decided to focus on the latter stage as the system in place is mostly targeted towards the former stage tasks.\n\nIn order to support the process of interpretation, we developed an interactive data visualization tool that **presents contributions in terms of the comparison and clustering of data**. Our standalone app presents an exploration of features and improvements that could be embedded into the future versions of the Pixlise tool. In the following sections, we first describe the existing tool and dataset, we then describe our tool development process and the interactive visualization techniques we propose. Finally, we walk through some use cases to illustrate the scenarios where our tool can support the data analysis process.\n\nThis application was developed over the course of about a month. We first had an initial meeting with one of our stakeholders, the project lead UX manager at NASA JPL where we gathered resources and learned about the possible problems that we could tackle. After more research into the datasets provided and some brainstorming about possible problem scopes, we presented initial mockups to the UX manager. Based on the feedback, we produced new mockups of 10 possible new interaction models or features and presented them to the co-investigator astrologists, who is a main beneficiary. Their input helped to validate our initial mockups, guide future design decisions and also helped us to prioritize which features to focus on. In the remaining weeks, we built the final application based on these findings.\n\n# Process mockups\n\n![process1](../images/nasa/process1.png)\n*Initial sketches*\n\n![process2](../images/nasa/process2.png)\n*First pass at showing comparison*\n\n![process3](../images/nasa/process3.png)\n*10 possible interactions*\n\n# Dataset, Pixlise App and The Data Analysis Workflow\n\nPIXL data set is a collection of spatially localized spectroscopy data as the instrument on Perseverance rover passes over the sampling area. The microXRF data has 1024 ordinal channels, each with a count of x-rays sensed by the instrument at that particular channel. The dataset is organized into a CSV file that contains information on points, coordinate data (X, Y, Z), and spectrum data with more than 4000 points per each data point.\n\nThe current data visualization tool facilitates the data analysis workflow through multiple interaction techniques (Figure 1). The main interaction touchpoint is the context image pane (Figure 1a) that displays the discrete points in the microXRF data. Using this map display allows scientists to visually isolate, select, and analyze discrete geological features within a sample data point [1]. As a first step, users have to assign elements to each data point. The spectrum pane (Figure 1b) visualizes the energy spectral density [5] of data points individually or in bulk. By looking at the peaks in the wavelength, users are able to infer element transitions. The instrument can detect over 20 elements, including Na, Mg, Al, Si, P, S, Cl, K, Ca, Ti, V, Cr, Mn, Fe, Co, Ni, Cu, Zn, Br, Rb, Sr, Y, Ga, Ge, As, Zr, Rb, Sr, Y and Zr at 10‚Äôs ppm level [2]. The element assignment process is semi-automatic as the tool can infer the presence of some elements, yet the domain knowledge of scientists are necessary to fine tune and validate the assignment.\n\n![report image 2](../images/nasa/report_img_2.png)\n\n*Figure 1: Pixlise Interface*\n\nOnce the elements are assigned, users introspect the element abundance to make associations for mineral identification using supporting panes. The histogram tool (Figure 1c) shows the quantified weight percentages of different elements in selected samples in linear or log scale. The chord diagram (Figure 1d), the ternary diagram (Figure 1e), and the binary diagram (Figure 1f) indicate the correlations between abundant elements to inform the interpretation of mineral compositions.\n\nWhile the Pixlise tool supports the process of element assignment and quantification, there is little support in terms of comparison between points and regions. Our interviews with the stakeholders, including the project lead UX Manager and the co-lead research scientist, revealed that there are several pain points and needs in terms of selection, grouping, annotation, clustering, and comparison. Specifically, the current interface does not provide any means to do multiple selections (individual or group) at the same time in order to compare the element distributions across different regions. Additionally, the scientists desired to have auto generated clusters with various algorithm options, so that they do not have to start from scratch and instead semi-automatically create groups of the mapped area. Our tool aims to address these gaps through extending the existing data analysis workflow with novel and targeted interaction design solutions.\n\n# Pixlise+\n\nWe present an interactive data visualization tool, Pixlise+, that extends the current system in place. We built our tool as a standalone application instead of integrated development, as the current architecture has several authentication layers that makes the development process difficult. However, our tool builds on the current application in terms of interface layout, interaction styles, and overall design to maintain familiarity.\n\n\n![report image 1](../images/nasa/report_img_1.jpg)\n\n*Figure 2: Pixlise+ Interface*\n\nPixlise+ interface consists of four main components: Context Image (Figure 2a), Comparison Sandbox (Figure 2b), Clustering (Figure 2c), and Parallel Coordinate Plots (Figure 2d). Below, we describe each component in detail.\n\n**Context Image:** This 2D map is the main interaction touchpoint for the application. The visualization plots the collected data on the geographical context image as dot per point. There are 6400 data points arranged into a grid based on their spatial coordinates. Overlaying the datapoint over the real terrain view allows scientists to select and analyze data in accordance with the context. There are three major actions the users can take in this view. First, using the navigation icon, they can pan and zoom (in or out). Second, using the examining tool (eye icon), they can hover over individual points to view related data in isolation, which is displayed in the Comparison Sandbox. Finally, the scientists can select and group the data points using the lasso tool and component dropdown menu. Once a component group is created by clicking on ‚Äúadd item‚Äù, the selected data points will be displayed in that group‚Äôs color. Consequent lasso actions will add to the selection, while holding down shift will remove points from the selection. Detailed information about the groups in terms of element concentration is displayed in the Comparison Sandbox, so that the scientists can iterate on grouping data into clusters based on similarity. \n\n**Comparison Sandbox:** This view displays the element percentages in the selected data points as histograms. As opposed to displaying one histogram at a time as in the previous implementation, our tool can display up to 20 histograms for the comparison of potential mineral compositions across clusters. When initiated the Comparison Sandbox displays the average element weights of all samples in the dataset in logarithmic or linear scale. The element symbols are displayed as columns at the top and users are able to hide less important elements to focus on the most relevant ones. The histogram can be sorted based on the element abundance (using means, high to low or low to high) or the coefficient of variation (standard deviation divided by the mean). The histogram tooltip displays more detailed statistical information per element, including mean, standard deviation, min, max, Q1, Q3, and the median. This information is useful to help the user determine how the distribution of data looks. Min, max, Q1, Q3 and median are especially important if the distribution is not a normal distribution. Additionally, variance in an element is shown as an inner bar within each bar of the histogram, which informs whether selected data points demonstrate similar characteristics.\n\nAs users create multiple groups using the selection and component creation tools in the Context Image view, the histograms in the Comparison Sandbox update to display multiple groups at once. Using histogram controls, users can lock and unlock a group before finalizing their selection. Additionally, they can annotate the group with insights. Once a group is annotated, hovering over the group in the Context Image view shows the annotations overlaid on top. Finally, when users want to examine how a single data point fits in a group, hovering over the data point in the Context Image view displays the element percentages of the individual data point across all histograms as overlaid ticks on bars.\n\n**Parallel Coordinates Plots:** Histograms are useful in characterizing groups through element abundance, but it can be difficult to distinguish fine grain differences among the data. To enable a more granular exploration, Parallel Coordinates Plots (PCP) displays percent values based on the minimum and maximum range. Therefore, nuanced differences between groups can be seen per each element.\n\n**Clustering:** Grouping the data points into clusters are usually carried out manually as the scientists have extensive expertise in terms of identifying geologic features in images. However, machine learning algorithms can provide particular or generalizable insights depending on the dataset. Our tool utilizes various ML techniques for auto generating clusters as starting points for a semi-automatic data analysis workflow. Clustering tool provides three different algorithms: k-means clustering, hierarchical clustering, and minimum maximum. K-means clustering partitions the dataset into a user defined number of clusters using the distance between the points. Scientists can choose to apply dimensionality reduction using PCA or t-SNE. PCA performs deterministic linear dimensionality reduction and takes in variance as a hyperparameter. T-SNE, on the other hand, performs probabilistic and non-linear dimensionality reduction and takes in perplexity as a hyperparameter.\n\nHierarchical clustering builds a hierarchy of clusters based on a distance metric defined by the linkage hyperparameters (ward, complete, average, or single). Similar to k-means, the number of clusters is user defined in hierarchical clustering. Finally, users can create auto generated groups without using a clustering algorithm. In this case, they can group the dataset based on maximum or minimum abundance of elements. The clustering tool aims to enable scientists to play around with different clustering options and fine tune parameters for finding insights.\n\n# Technical Implementation\n\nWe developed our application using React and deployed it using Github pages. Our code is open source [4]. While React was used to develop the UI and coordinate the different components across the application, D3.js, a popular visualization Javascript library, was used to create the visualizations within the components. \n\nFor the clustering implementation, we use a Python backend to dynamically generate cluster information based on the many different hyperparameters that our app allows.The client app and the Python backend communicate using Flask and an ajax call using jQuery. The backend itself is hosted on Amazon Web Services. The clustering backend uses popular data science libraries such as sklearn and pandas. Sklearn is used to perform all of our machine learning algorithms, including hierarchical clustering, t-SNE, PCA, and k-means. Our application also enables hyperparameters such as linkage, variance percentage, perplexity, and number of clusters, to be passed to the backend as well.\n\n# Results\n\nWe present a walkthrough of our tool in our project demonstration video using a sample dataset called ‚ÄúKing‚Äôs Court‚Äù. This dataset has samples from a terrain with a crater-like geological feature. Using the clustering tool, we were able to test various algorithms and hyperparameters for grouping the dataset into meaningful subsets. Our explorative results show that both PCA and t-SNE were able to identify the large cluster around the crater (Figure 2a-1) with multiple discrete groups around its perimeters (Figure 2a-2). Once the initial groups were identified using the clustering algorithm, we used the hovering feature in the Context Image tools for examining individual data points within clusters. Based on the histogram information in the Comparison Sandbox, we were able to add or remove specific data points using the lasso tool.\n\n# Discussion and Future Work\n\nThe main contributions of our work include interaction techniques for the comparative analysis and clustering of microXRF spectroscopy data in the context of the PIXL project. Our tool Pixlise+ enabled a semi-automatic data analysis workflow that enabled an augmented grouping of microXRF data based on element abundance. Using built-in statistical analyses, scientists can compare several clusters at once to fine tune and validate the grouping of the data. Moreover, tools that support documentation including locking and annotation open the way to future developments for multi-user collaboration.\n\nOur work reveals several directions for future research. For the overall data analysis workflow, blending human and machine intelligence raises major research questions. How can we combine manually created groups with machine generated clusters to provide support scientists‚Äô agency while removing tedious work? What kind of interaction techniques (e.g. overlays) might be suited for representing human and machine generated groups? Should the system suggest potential clusters to validate human insights through mixed initiative interaction? These are some questions we would like to explore going forward. In addition, sharing annotated datasets present an interesting direction for future research in terms of collaborative and asynchronous workflows. Potential techniques include exporting screenshots, sharing workspaces, and sharing the dataset to be opened with a different program or tool. We will also explore the database requirements to allow saving and sharing.\n\nFinally, our short term goals include the integration of Pixlise+ into the current system used by NASA JPL. We will continue working with our collaborators to collect feedback on our tool through user testing, iterative development, and deployment.\n\n# Special thanks\n\nThank you to IDS professors Dominic Mortiz and Adam Perer and the TAs for their help! And thank you to the researchers and designers at NASA for letting us work with them on this project!\n\n**References**\n\n[1] PIXELATE: novel visualization and computational methods for the analysis of astrobiological spectroscopy data. [link](https://www.researchgate.net/publication/338924853_PIXELATE_novel_visualization_and_computational_methods_for_the_analysis_of_astrobiological_spectroscopy_data)\n\n[2] PIXL for Scientists. [link](https://mars.nasa.gov/mars2020/spacecraft/instruments/pixl/for-scientists/)\n\n[3] PIXLISE Mars Rock Sample Investigation. [link](https://datavis.caltech.edu/projects/pixl/)\n\n[4] Pixlise+ Github Repository. [link](https://github.com/CMU-IDS-2020/fp-airbnb-rats)\n\n[5] Spectral Density. [link](https://en.wikipedia.org/wiki/Spectral_density)","type":"MarkdownRemark","contentDigest":"86644678943c72f99ef4568e706810ac","counter":188,"owner":"gatsby-transformer-remark"},"frontmatter":{"title":"NASA JPL: Pixelise+","path":"/nasa","date":"Fall 2020","coverImage":"../images/nasa.jpg","coverVideo":"../assets/nasa.mp4","author":"Elliot","excerpt":"Working with NASA JPL, we developed an interactive tool that enables scientists to compare data from their PIXL tool.","tags":["Frontend","Data vis","React","d3.js","ML"],"links":"","readMoreButton":"See documentation","order":1,"shortTitle":"Pixelise+"},"excerpt":"","rawMarkdownBody":"\n**Working with NASA JPL, we developed an interactive tool that enables scientists to compare data from their PIXL tool.** This project was a collaboration between with Lukas Hermann, Nur Yildirim, and Shravya Bhat. \n\n# üåê [Live URL](https://cmu-ids-2020.github.io/fp-airbnb-rats/)\n\n# ‚å®Ô∏è [Github Repository](https://github.com/CMU-IDS-2020/fp-airbnb-rats)\n\n### Clustering server rate limitations\nWe are running the clustering backend on an AWS instance. Because it's a free trail of an instance, it will expire around Janurary 9th, 2021. The app will continue to work afterwards, but the clustering feature will not work unless you set up your own server. We are also using a free proxy server service (CORS-anywhere) to forward our CORS requests because otherwise we will get https client to http errors. **Due to the limits of free AWS and the free proxy server service, the rate and speed of responses may be limited if the app traffic is very high.**\n\nIn this case there are two possible solutions:\n1. Contact me and I can set up an alternative proxy server for you\n2. Clone our repository and set it up locally using the instructions in the README.\n\n![demo gif](../images/nasa/pixl.gif)\n\nDuring the project, I maintained and set up the components in our web app, which was built in React. I implemented the design of the interface, set up information coordination between components, and programmed the majority of the interactions in the interface, such as: \n- the lasso tool\n- adding and removing groups\n- the image viewer/overlay component with pan/zoom\n- group annotation and locking\n- element filtering and sorting\n- and more! \n\nI also worked with Lukas on the visualizations using d3.js. Lastly, I conceptualized and designed the core interactions, which I mocked up in Figma and validated with the key stakeholder, a NASA Co-Investigator, with a user study protocol that I created.\n\n# Abstract\n\nNASA JPL scientists working on the micro x-ray fluorescence (microXRF) spectroscopy data collected from Mars surface perform data analysis to look for signs of past microbial life on Mars. Their data analysis workflow mainly involves identifying mineral compounds through the element abundance in spatially distributed data points. Working with the NASA JPL team, we identified pain points and needs to further develop their existing data visualization and analysis tool. Specially, the team desired improvements for the process of creating and interpreting mineral composition groups. To address this problem, we developed an interactive tool that enables scientists to (1) semi-automatically cluster the data, and (2) compare the clusters and individual data points to make informed decisions about mineral compositions. Our tool supports a hybrid data analysis workflow where the user can manually refine the machine generated clusters. \n\n# Introduction\n\nOur project is carried out in collaboration with NASA Jet Propulsion Laboratory Human Interfaces Group in order to support the exploratory analysis of astrobiological data collected via Mars 2020 Perseverance rover. The mission of NASA scientists is to look for signs of past microbial life on Mars by examining the chemical makeup of rock and soil textures at a very fine scale. This is performed by analysing the micro x-ray fluorescence (microXRF) spectroscopy data collected by The Planetary Instrument for X-ray Lithochemistry (PIXL). By looking at the concentration and the spatial distribution of elements, the scientists are able to interpret the microXRF data and identify the mineral compounds that were likely created by microbes [2].\n\nThe PIXL instrument team performing this work include astrobiologists, sedimentologists, igneous petrologists, spectroscopists, and geochemists. An initial data visualisation tool prototype, Pixlise, is already in place to support scientists in this process [3]. Our preliminary discussions with the project team, therefore, focused on identifying the tasks and information needs of the scientists that might not be supported by the current app. In Pixlise, the data analysis tasks are mainly carried out using a map interface as the collected data involves spatially defined points with coordinates. The data analysis workflow has two major stages: (1) assigning elements to data points based on the spectroscopy data, (2) creating and interpreting mineral composition groups based on elemental abundance. Through a collaborative problem defining process, we decided to focus on the latter stage as the system in place is mostly targeted towards the former stage tasks.\n\nIn order to support the process of interpretation, we developed an interactive data visualization tool that **presents contributions in terms of the comparison and clustering of data**. Our standalone app presents an exploration of features and improvements that could be embedded into the future versions of the Pixlise tool. In the following sections, we first describe the existing tool and dataset, we then describe our tool development process and the interactive visualization techniques we propose. Finally, we walk through some use cases to illustrate the scenarios where our tool can support the data analysis process.\n\nThis application was developed over the course of about a month. We first had an initial meeting with one of our stakeholders, the project lead UX manager at NASA JPL where we gathered resources and learned about the possible problems that we could tackle. After more research into the datasets provided and some brainstorming about possible problem scopes, we presented initial mockups to the UX manager. Based on the feedback, we produced new mockups of 10 possible new interaction models or features and presented them to the co-investigator astrologists, who is a main beneficiary. Their input helped to validate our initial mockups, guide future design decisions and also helped us to prioritize which features to focus on. In the remaining weeks, we built the final application based on these findings.\n\n# Process mockups\n\n![process1](../images/nasa/process1.png)\n*Initial sketches*\n\n![process2](../images/nasa/process2.png)\n*First pass at showing comparison*\n\n![process3](../images/nasa/process3.png)\n*10 possible interactions*\n\n# Dataset, Pixlise App and The Data Analysis Workflow\n\nPIXL data set is a collection of spatially localized spectroscopy data as the instrument on Perseverance rover passes over the sampling area. The microXRF data has 1024 ordinal channels, each with a count of x-rays sensed by the instrument at that particular channel. The dataset is organized into a CSV file that contains information on points, coordinate data (X, Y, Z), and spectrum data with more than 4000 points per each data point.\n\nThe current data visualization tool facilitates the data analysis workflow through multiple interaction techniques (Figure 1). The main interaction touchpoint is the context image pane (Figure 1a) that displays the discrete points in the microXRF data. Using this map display allows scientists to visually isolate, select, and analyze discrete geological features within a sample data point [1]. As a first step, users have to assign elements to each data point. The spectrum pane (Figure 1b) visualizes the energy spectral density [5] of data points individually or in bulk. By looking at the peaks in the wavelength, users are able to infer element transitions. The instrument can detect over 20 elements, including Na, Mg, Al, Si, P, S, Cl, K, Ca, Ti, V, Cr, Mn, Fe, Co, Ni, Cu, Zn, Br, Rb, Sr, Y, Ga, Ge, As, Zr, Rb, Sr, Y and Zr at 10‚Äôs ppm level [2]. The element assignment process is semi-automatic as the tool can infer the presence of some elements, yet the domain knowledge of scientists are necessary to fine tune and validate the assignment.\n\n![report image 2](../images/nasa/report_img_2.png)\n\n*Figure 1: Pixlise Interface*\n\nOnce the elements are assigned, users introspect the element abundance to make associations for mineral identification using supporting panes. The histogram tool (Figure 1c) shows the quantified weight percentages of different elements in selected samples in linear or log scale. The chord diagram (Figure 1d), the ternary diagram (Figure 1e), and the binary diagram (Figure 1f) indicate the correlations between abundant elements to inform the interpretation of mineral compositions.\n\nWhile the Pixlise tool supports the process of element assignment and quantification, there is little support in terms of comparison between points and regions. Our interviews with the stakeholders, including the project lead UX Manager and the co-lead research scientist, revealed that there are several pain points and needs in terms of selection, grouping, annotation, clustering, and comparison. Specifically, the current interface does not provide any means to do multiple selections (individual or group) at the same time in order to compare the element distributions across different regions. Additionally, the scientists desired to have auto generated clusters with various algorithm options, so that they do not have to start from scratch and instead semi-automatically create groups of the mapped area. Our tool aims to address these gaps through extending the existing data analysis workflow with novel and targeted interaction design solutions.\n\n# Pixlise+\n\nWe present an interactive data visualization tool, Pixlise+, that extends the current system in place. We built our tool as a standalone application instead of integrated development, as the current architecture has several authentication layers that makes the development process difficult. However, our tool builds on the current application in terms of interface layout, interaction styles, and overall design to maintain familiarity.\n\n\n![report image 1](../images/nasa/report_img_1.jpg)\n\n*Figure 2: Pixlise+ Interface*\n\nPixlise+ interface consists of four main components: Context Image (Figure 2a), Comparison Sandbox (Figure 2b), Clustering (Figure 2c), and Parallel Coordinate Plots (Figure 2d). Below, we describe each component in detail.\n\n**Context Image:** This 2D map is the main interaction touchpoint for the application. The visualization plots the collected data on the geographical context image as dot per point. There are 6400 data points arranged into a grid based on their spatial coordinates. Overlaying the datapoint over the real terrain view allows scientists to select and analyze data in accordance with the context. There are three major actions the users can take in this view. First, using the navigation icon, they can pan and zoom (in or out). Second, using the examining tool (eye icon), they can hover over individual points to view related data in isolation, which is displayed in the Comparison Sandbox. Finally, the scientists can select and group the data points using the lasso tool and component dropdown menu. Once a component group is created by clicking on ‚Äúadd item‚Äù, the selected data points will be displayed in that group‚Äôs color. Consequent lasso actions will add to the selection, while holding down shift will remove points from the selection. Detailed information about the groups in terms of element concentration is displayed in the Comparison Sandbox, so that the scientists can iterate on grouping data into clusters based on similarity. \n\n**Comparison Sandbox:** This view displays the element percentages in the selected data points as histograms. As opposed to displaying one histogram at a time as in the previous implementation, our tool can display up to 20 histograms for the comparison of potential mineral compositions across clusters. When initiated the Comparison Sandbox displays the average element weights of all samples in the dataset in logarithmic or linear scale. The element symbols are displayed as columns at the top and users are able to hide less important elements to focus on the most relevant ones. The histogram can be sorted based on the element abundance (using means, high to low or low to high) or the coefficient of variation (standard deviation divided by the mean). The histogram tooltip displays more detailed statistical information per element, including mean, standard deviation, min, max, Q1, Q3, and the median. This information is useful to help the user determine how the distribution of data looks. Min, max, Q1, Q3 and median are especially important if the distribution is not a normal distribution. Additionally, variance in an element is shown as an inner bar within each bar of the histogram, which informs whether selected data points demonstrate similar characteristics.\n\nAs users create multiple groups using the selection and component creation tools in the Context Image view, the histograms in the Comparison Sandbox update to display multiple groups at once. Using histogram controls, users can lock and unlock a group before finalizing their selection. Additionally, they can annotate the group with insights. Once a group is annotated, hovering over the group in the Context Image view shows the annotations overlaid on top. Finally, when users want to examine how a single data point fits in a group, hovering over the data point in the Context Image view displays the element percentages of the individual data point across all histograms as overlaid ticks on bars.\n\n**Parallel Coordinates Plots:** Histograms are useful in characterizing groups through element abundance, but it can be difficult to distinguish fine grain differences among the data. To enable a more granular exploration, Parallel Coordinates Plots (PCP) displays percent values based on the minimum and maximum range. Therefore, nuanced differences between groups can be seen per each element.\n\n**Clustering:** Grouping the data points into clusters are usually carried out manually as the scientists have extensive expertise in terms of identifying geologic features in images. However, machine learning algorithms can provide particular or generalizable insights depending on the dataset. Our tool utilizes various ML techniques for auto generating clusters as starting points for a semi-automatic data analysis workflow. Clustering tool provides three different algorithms: k-means clustering, hierarchical clustering, and minimum maximum. K-means clustering partitions the dataset into a user defined number of clusters using the distance between the points. Scientists can choose to apply dimensionality reduction using PCA or t-SNE. PCA performs deterministic linear dimensionality reduction and takes in variance as a hyperparameter. T-SNE, on the other hand, performs probabilistic and non-linear dimensionality reduction and takes in perplexity as a hyperparameter.\n\nHierarchical clustering builds a hierarchy of clusters based on a distance metric defined by the linkage hyperparameters (ward, complete, average, or single). Similar to k-means, the number of clusters is user defined in hierarchical clustering. Finally, users can create auto generated groups without using a clustering algorithm. In this case, they can group the dataset based on maximum or minimum abundance of elements. The clustering tool aims to enable scientists to play around with different clustering options and fine tune parameters for finding insights.\n\n# Technical Implementation\n\nWe developed our application using React and deployed it using Github pages. Our code is open source [4]. While React was used to develop the UI and coordinate the different components across the application, D3.js, a popular visualization Javascript library, was used to create the visualizations within the components. \n\nFor the clustering implementation, we use a Python backend to dynamically generate cluster information based on the many different hyperparameters that our app allows.The client app and the Python backend communicate using Flask and an ajax call using jQuery. The backend itself is hosted on Amazon Web Services. The clustering backend uses popular data science libraries such as sklearn and pandas. Sklearn is used to perform all of our machine learning algorithms, including hierarchical clustering, t-SNE, PCA, and k-means. Our application also enables hyperparameters such as linkage, variance percentage, perplexity, and number of clusters, to be passed to the backend as well.\n\n# Results\n\nWe present a walkthrough of our tool in our project demonstration video using a sample dataset called ‚ÄúKing‚Äôs Court‚Äù. This dataset has samples from a terrain with a crater-like geological feature. Using the clustering tool, we were able to test various algorithms and hyperparameters for grouping the dataset into meaningful subsets. Our explorative results show that both PCA and t-SNE were able to identify the large cluster around the crater (Figure 2a-1) with multiple discrete groups around its perimeters (Figure 2a-2). Once the initial groups were identified using the clustering algorithm, we used the hovering feature in the Context Image tools for examining individual data points within clusters. Based on the histogram information in the Comparison Sandbox, we were able to add or remove specific data points using the lasso tool.\n\n# Discussion and Future Work\n\nThe main contributions of our work include interaction techniques for the comparative analysis and clustering of microXRF spectroscopy data in the context of the PIXL project. Our tool Pixlise+ enabled a semi-automatic data analysis workflow that enabled an augmented grouping of microXRF data based on element abundance. Using built-in statistical analyses, scientists can compare several clusters at once to fine tune and validate the grouping of the data. Moreover, tools that support documentation including locking and annotation open the way to future developments for multi-user collaboration.\n\nOur work reveals several directions for future research. For the overall data analysis workflow, blending human and machine intelligence raises major research questions. How can we combine manually created groups with machine generated clusters to provide support scientists‚Äô agency while removing tedious work? What kind of interaction techniques (e.g. overlays) might be suited for representing human and machine generated groups? Should the system suggest potential clusters to validate human insights through mixed initiative interaction? These are some questions we would like to explore going forward. In addition, sharing annotated datasets present an interesting direction for future research in terms of collaborative and asynchronous workflows. Potential techniques include exporting screenshots, sharing workspaces, and sharing the dataset to be opened with a different program or tool. We will also explore the database requirements to allow saving and sharing.\n\nFinally, our short term goals include the integration of Pixlise+ into the current system used by NASA JPL. We will continue working with our collaborators to collect feedback on our tool through user testing, iterative development, and deployment.\n\n# Special thanks\n\nThank you to IDS professors Dominic Mortiz and Adam Perer and the TAs for their help! And thank you to the researchers and designers at NASA for letting us work with them on this project!\n\n**References**\n\n[1] PIXELATE: novel visualization and computational methods for the analysis of astrobiological spectroscopy data. [link](https://www.researchgate.net/publication/338924853_PIXELATE_novel_visualization_and_computational_methods_for_the_analysis_of_astrobiological_spectroscopy_data)\n\n[2] PIXL for Scientists. [link](https://mars.nasa.gov/mars2020/spacecraft/instruments/pixl/for-scientists/)\n\n[3] PIXLISE Mars Rock Sample Investigation. [link](https://datavis.caltech.edu/projects/pixl/)\n\n[4] Pixlise+ Github Repository. [link](https://github.com/CMU-IDS-2020/fp-airbnb-rats)\n\n[5] Spectral Density. [link](https://en.wikipedia.org/wiki/Spectral_density)","fileAbsolutePath":"/Users/crabbage/Documents/newwebdev/src/posts/nasa.md","__gatsby_resolved":{"frontmatter":{"path":"/nasa"}}}}},"staticQueryHashes":["236058478","3128451518"]}